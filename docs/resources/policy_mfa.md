---
page_title: "Resource: okta_policy_mfa"
description: |-
  
---

# Resource: okta_policy_mfa



## Example Usage

```terraform
resource "okta_policy_mfa" "classic_example" {
  name        = "MFA Policy Classic"
  status      = "ACTIVE"
  description = "Example MFA policy using Okta Classic engine with factors."
  is_oie      = false

  okta_password = {
    enroll = "REQUIRED"
  }

  okta_otp = {
    enroll = "REQUIRED"
  }

  groups_included = ["${data.okta_group.everyone.id}"]
}

resource "okta_policy_mfa" "oie_example" {
  name        = "MFA Policy OIE"
  status      = "ACTIVE"
  description = "Example MFA policy that uses Okta Identity Engine (OIE) with authenticators"
  is_oie      = true

  okta_password = {
    enroll = "REQUIRED"
  }

  # The following authenticator can only be used when `is_oie` is set to true
  okta_verify = {
    enroll = "REQUIRED"
  }

  groups_included = ["${data.okta_group.everyone.id}"]
}

// policy_mfa that support multiple external_idps
resource "okta_policy_mfa" "oie_example" {
  name        = "MFA Policy OIE"
  status      = "ACTIVE"
  description = "Example MFA policy that uses Okta Identity Engine (OIE) with authenticators"
  is_oie      = true

  okta_email = {
    enroll = "REQUIRED"
  }

  google_otp = {
    enroll = "REQUIRED"
  }

  external_idps = [
    {
      "enroll" : "OPTIONAL",
      "id" : "id1",
    },
    {
      "enroll" : "NOT_ALLOWED",
      "id" : "id2",
    }
  ]


  groups_included = ["${data.okta_group.everyone.id}"]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Policy Name

### Optional

- `custom_otp` (Map of String)
- `description` (String) Policy Description
- `duo` (Map of String)
- `external_idp` (Map of String, Deprecated)
- `external_idps` (Set of Map of String)
- `fido_u2f` (Map of String)
- `fido_webauthn` (Map of String)
- `google_otp` (Map of String)
- `groups_included` (Set of String) List of Group IDs to Include
- `hotp` (Map of String)
- `is_oie` (Boolean) Is the policy using Okta Identity Engine (OIE) with authenticators instead of factors?
- `okta_call` (Map of String)
- `okta_email` (Map of String)
- `okta_otp` (Map of String)
- `okta_password` (Map of String)
- `okta_push` (Map of String)
- `okta_question` (Map of String)
- `okta_sms` (Map of String)
- `okta_verify` (Map of String)
- `onprem_mfa` (Map of String)
- `phone_number` (Map of String)
- `priority` (Number) Policy Priority, this attribute can be set to a valid priority. To avoid endless diff situation we error if an invalid priority is provided. API defaults it to the last (lowest) if not there.
- `rsa_token` (Map of String)
- `security_question` (Map of String)
- `smart_card_idp` (Map of String)
- `status` (String) Policy Status: `ACTIVE` or `INACTIVE`. Default: `ACTIVE`
- `symantec_vip` (Map of String)
- `webauthn` (Map of String)
- `yubikey_token` (Map of String)

### Read-Only

- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

```shell
$ terraform import okta_policy_mfa.example <policy_id>
```
