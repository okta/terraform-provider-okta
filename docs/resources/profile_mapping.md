---
page_title: "Resource: okta_profile_mapping"
description: |-
  Manages a profile mapping. This resource allows you to manage a profile mapping by source and target IDs. -> NOTE: If using this resource with OAuth2 scopes, this resource requires okta.profileMappings.manage scope.
---

# Resource: okta_profile_mapping

Manages a profile mapping. This resource allows you to manage a profile mapping by source and target IDs. -> **NOTE:** If using this resource with OAuth2 scopes, this resource requires `okta.profileMappings.manage` scope.

## Example Usage

```terraform
data "okta_user_profile_mapping_source" "user" {}

resource "okta_profile_mapping" "example" {
  source_id          = "<source id>"
  target_id          = data.okta_user_profile_mapping_source.user.id
  delete_when_absent = true

  mappings {
    id         = "firstName"
    expression = "appuser.firstName"
  }

  mappings {
    id         = "lastName"
    expression = "appuser.lastName"
  }

  mappings {
    id         = "email"
    expression = "appuser.email"
  }

  mappings {
    id         = "login"
    expression = "appuser.email"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `source_id` (String) The source id of the mapping to manage.
- `target_id` (String) The target id of the mapping to manage.

### Optional

- `always_apply` (Boolean) Whether apply the changes to all users with this profile after updating or creating the these mappings. 
	~> **WARNING:**: 'always_apply' is incompatible with OAuth 2.0 authentication and will be ignored when using that type of authentication.
	~> **WARNING:** 'always_apply' makes use of an internal/private Okta API endpoint that could change without notice rendering this resource inoperable.
- `delete_when_absent` (Boolean) When turned on this flag will trigger the provider to delete mapping properties that are not defined in config. By default, we do not delete missing properties.
- `mappings` (Block Set) (see [below for nested schema](#nestedblock--mappings))

### Read-Only

- `id` (String) The ID of this resource.
- `source_name` (String) Name of the mapping source.
- `source_type` (String) ID of the mapping source.
- `target_name` (String) Name of the mapping target.
- `target_type` (String) ID of the mapping target.

<a id="nestedblock--mappings"></a>
### Nested Schema for `mappings`

Required:

- `expression` (String)
- `id` (String) The mapping property key.

Optional:

- `push_status` (String)


Import is supported using the following syntax:

```shell
terraform import okta_profile_mapping.example <id>
```
