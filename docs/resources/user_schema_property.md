---
page_title: "Resource: okta_user_schema_property"
description: |-
  Creates a User Schema property. This resource allows you to create and configure a custom user schema property.
---

# Resource: okta_user_schema_property

Creates a User Schema property. This resource allows you to create and configure a custom user schema property.

**IMPORTANT:** With `enum`, list its values as strings even though the `type`
may be something other than string. This is a limitation of the schema defintion
in the Terraform Plugin SDK runtime and we juggle the type correctly when making
Okta API calls. Same holds for the `const` value of `one_of` as well as the
`array_*` variation of `enum` and `one_of`.

⚠️ **IMPORTANT - Terraform/Pulumi Users:** Modifying certain properties of an existing
`okta_user_schema_property` resource through Terraform/Pulumi will cause the resource to be
**deleted and recreated**, which results in **permanent data loss** for any user data stored
in this schema property.

**Affected properties:**
- `external_name`
- `external_namespace`
- `unique`

**Note:** The Okta API supports in-place updates for these properties. This delete/recreate
behavior is specific to the Terraform/Pulumi provider implementation.

**Workaround to prevent data loss:**
1. Update the schema property directly via the Okta Admin Console or API (e.g., using `curl`)
2. Remove the resource from your Terraform/Pulumi state:
	- Terraform: `terraform state rm <resource_address>`
	- Pulumi: `pulumi state delete <resource_urn>`
3. Re-import the updated resource:
	- Terraform: `terraform import <resource_address> <resource_id>`
	- Pulumi: `pulumi import <resource_type> <resource_name> <resource_id>`


## Example Usage

```terraform
resource "okta_user_schema_property" "example" {
  index       = "customPropertyName"
  title       = "customPropertyName"
  type        = "string"
  description = "My custom property name"
  master      = "OKTA"
  scope       = "SELF"
  user_type   = data.okta_user_type.example.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `index` (String) Subschema unique string identifier
- `title` (String) Subschema title (display name)
- `type` (String) The type of the schema property. It can be `string`, `boolean`, `number`, `integer`, `array`, or `object`

### Optional

- `array_enum` (List of String) Array of values that an array property's items can be set to.
- `array_one_of` (Block List) Display name and value an enum array can be set to.
	- 'const' - (Required) value mapping to member of 'enum'.
	- 'title' - (Required) display name for the enum value. (see [below for nested schema](#nestedblock--array_one_of))
- `array_type` (String) The type of the array elements if `type` is set to `array`
- `description` (String) The description of the user schema property.
- `enum` (List of String) Array of values a primitive property can be set to. See `array_enum` for arrays.
- `external_name` (String) External name of the user schema property.
- `external_namespace` (String) External namespace of the user schema property.
- `master` (String) Master priority for the user schema property. It can be set to `PROFILE_MASTER`, `OVERRIDE` or `OKTA`.
- `master_override_priority` (Block List) Prioritized list of profile sources (required when 'master' is 'OVERRIDE').
	- 'type' - (Optional) - Type of profile source.
	- 'value' - (Required) - ID of profile source. (see [below for nested schema](#nestedblock--master_override_priority))
- `max_length` (Number) The maximum length of the user property value. Only applies to type `string`
- `min_length` (Number) The minimum length of the user property value. Only applies to type `string`
- `one_of` (Block List) Array of maps containing a mapping for display name to enum value.
	- 'const' - (Required) value mapping to member of 'enum'.
	- 'title' - (Required) display name for the enum value. (see [below for nested schema](#nestedblock--one_of))
- `pattern` (String) The validation pattern to use for the subschema. Must be in form of '.+', or '[<pattern>]+' if present.'
- `permissions` (String) Access control permissions for the property. It can be set to `READ_WRITE`, `READ_ONLY`, `HIDE`. Default: `READ_ONLY`
- `required` (Boolean) Whether the subschema is required
- `scope` (String) determines whether an app user attribute can be set at the Individual or Group Level. Default: `NONE`
- `unique` (String) Whether the property should be unique. It can be set to `UNIQUE_VALIDATED` or `NOT_UNIQUE`.
- `user_type` (String) User type ID. By default, it is `default`

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--array_one_of"></a>
### Nested Schema for `array_one_of`

Required:

- `const` (String) Value mapping to member of `array_enum`
- `title` (String) Display name for the enum value.


<a id="nestedblock--master_override_priority"></a>
### Nested Schema for `master_override_priority`

Required:

- `value` (String)

Optional:

- `type` (String)


<a id="nestedblock--one_of"></a>
### Nested Schema for `one_of`

Required:

- `const` (String) Enum value
- `title` (String) Enum title

## Import

Import is supported using the following syntax:

```shell
terraform import okta_user_schema_property.example <variableName>

terraform import okta_user_schema_property.example <user_type_id>.<index>
```