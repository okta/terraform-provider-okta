---
page_title: "Resource: okta_app_user_schema"
description: |-
  Manages the entire application user schema for an application. This resource allows you to create and configure all custom user schema properties as a single object.
---

# Resource: okta_app_user_schema

Manages the entire application user schema for an application. This resource allows you to create and configure all custom user schema properties as a single object.

This resource manages all custom properties in an application's user schema as a single entity, which aligns with how the Okta API actually works (single mutable schema object). This provides better visibility into auto-created properties when provisioning is enabled and simplifies import workflows.

**Advantages over `okta_app_user_schema_property`:**
- Manages all custom properties in one place
- Auto-created properties (from provisioning features like `PUSH_NEW_USERS`) are visible in Terraform state and plan diffs
- Single import operation captures entire schema
- More efficient (fewer API calls)

**IMPORTANT:** With 'enum', list its values as strings even though the 'type' may be something other than string. This is a limitation of the schema definition in the Terraform Plugin SDK runtime and we juggle the type correctly when making Okta API calls. Same holds for the 'const' value of 'one_of' as well as the 'array_*' variation of 'enum' and 'one_of'

## Example Usage

```terraform
resource "okta_app_user_schema" "example" {
  app_id = okta_app_saml.example.id

  custom_property {
    index       = "salesforceId"
    title       = "Salesforce ID"
    type        = "string"
    description = "User's Salesforce ID"
    required    = false
    scope       = "NONE"
    permissions = "READ_ONLY"
  }

  custom_property {
    index       = "department"
    title       = "Department"
    type        = "string"
    description = "User's department"
    master      = "OKTA"
    scope       = "SELF"
  }

  custom_property {
    index      = "roles"
    title      = "User Roles"
    type       = "array"
    array_type = "string"
    scope      = "NONE"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_id` (String) The Application's ID

### Optional

- `custom_property` (Block Set) Custom properties in the schema (see [below for nested schema](#nestedblock--custom_property))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--custom_property"></a>
### Nested Schema for `custom_property`

Required:

- `index` (String) The property name/index
- `title` (String) Display name for the property
- `type` (String) The type of the schema property. It can be `string`, `boolean`, `number`, `integer`, `array`, or `object`

Optional:

- `description` (String) The description of the property
- `enum` (List of String) Array of values a primitive property can be set to
- `external_name` (String) External name of the property
- `external_namespace` (String) External namespace of the property
- `master` (String) Master priority for the property. It can be set to `PROFILE_MASTER` or `OKTA`
- `max_length` (Number) The maximum length of the property value. Only applies to type `string`
- `min_length` (Number) The minimum length of the property value. Only applies to type `string`
- `permissions` (String) Access control permissions for the property. It can be set to `READ_WRITE`, `READ_ONLY`, `HIDE`. Default: `READ_ONLY`
- `required` (Boolean) Whether the property is required
- `scope` (String) Determines whether an app user attribute can be set at the Personal `SELF` or Group `NONE` level. Default value is `NONE`.
- `union` (Boolean) If `type` is set to `array`, used to set whether attribute value is determined by group priority `false`, or combine values across groups `true`. Can not be set to `true` if `scope` is set to `SELF`.

## Import

Import is supported using the following syntax:

```shell
terraform import okta_app_user_schema.example <app_id>
```
