---
page_title: "Resource: okta_grant"
description: |-
  Manages an Okta Governance Grant. Supports CUSTOM and ENTITLEMENT-BUNDLE grant types for direct entitlement assignments.
---

# Resource: okta_grant

Manages an Okta Governance Grant. This resource allows you to create CUSTOM or ENTITLEMENT-BUNDLE grants to directly assign entitlements to users or groups.

~> **Note:** This resource requires Okta Governance (Okta Identity Governance - OIG) to be enabled in your Okta organization.

~> **Important:** POLICY grants are created automatically by collection assignments and cannot be created directly using this resource. Use `okta_collection_assignment` to create POLICY grants.

~> **Limitation:** Grants cannot be directly deleted via the Okta API. When you destroy this resource, it will be removed from Terraform state, but the grant may still exist in Okta. Consider using collection assignments for full lifecycle management.

~> **Validation Rules:**
- `CUSTOM` grants require `entitlements` and must NOT set `entitlement_bundle_id`.
- `ENTITLEMENT-BUNDLE` grants require `entitlement_bundle_id` and must NOT set `entitlements`.
- `time_zone` may only be set when `expiration_date` is also set.
- `expiration_date` must be a valid RFC3339 timestamp in the future.
- `target_resource_orn` must start with `orn:okta:idp:` and contain at least 6 colon-delimited segments.

## Example Usage

### CUSTOM Grant

```terraform
resource "okta_grant" "feature_access" {
  grant_type              = "CUSTOM"
  target_principal_id     = okta_group.developers.id
  target_principal_type   = "OKTA_GROUP"
  target_resource_orn     = "orn:okta:idp:${var.org_id}:apps:salesforce:${var.app_id}"
  action                  = "ALLOW"
  actor                   = "API"
  
  entitlements {
    id = okta_entitlement.admin_feature.id
    values {
      id = okta_entitlement.admin_feature.values[0].id
    }
  }
}
```

### ENTITLEMENT-BUNDLE Grant

```terraform
resource "okta_grant" "bundle_access" {
  grant_type              = "ENTITLEMENT-BUNDLE"
  target_principal_id     = okta_user.john.id
  target_principal_type   = "OKTA_USER"
  target_resource_orn     = "orn:okta:idp:${var.org_id}:apps:salesforce:${var.app_id}"
  entitlement_bundle_id   = okta_entitlement_bundle.standard.id
  actor                   = "ADMIN"
}
```

### Grant with Expiration

```terraform
resource "okta_grant" "temporary_access" {
  grant_type              = "CUSTOM"
  target_principal_id     = okta_user.contractor.id
  target_principal_type   = "OKTA_USER"
  target_resource_orn     = "orn:okta:idp:${var.org_id}:apps:jira:${var.app_id}"
  expiration_date         = "2024-12-31T23:59:59Z"
  time_zone               = "America/New_York"
  
  entitlements {
    id = okta_entitlement.view_issues.id
    values {
      id = okta_entitlement.view_issues.values[0].id
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `grant_type` (String) The type of grant. Valid values: `CUSTOM`, `ENTITLEMENT-BUNDLE`. POLICY grants cannot be created directly.
- `target_principal_id` (String) The ID of the principal (user or group) receiving the grant.
- `target_principal_type` (String) The type of principal. Valid values: `OKTA_USER`, `OKTA_GROUP`.
- `target_resource_orn` (String) The ORN of the target resource (e.g., app).

### Optional

- `action` (String) The grant action. Valid values: `ALLOW`, `DENY`. Default: `ALLOW`.
- `actor` (String) The actor creating the grant. Valid values: `ACCESS_REQUEST`, `ADMIN`, `API`, `NONE`. Default: `API`.
- `entitlement_bundle_id` (String) The entitlement bundle ID. Required when `grant_type` is `ENTITLEMENT-BUNDLE`.
- `entitlements` (Block List) List of entitlements with their values. Required when `grant_type` is `CUSTOM`. (see [below for nested schema](#nestedblock--entitlements))
- `expiration_date` (String) The expiration date for the grant (ISO 8601 format).
- `time_zone` (String) The time zone in IANA format for the expiration date.

### Read-Only

- `id` (String) The unique identifier of the grant.
- `created` (String) Timestamp when the grant was created.
- `created_by` (String) User ID who created the grant.
- `last_updated` (String) Timestamp when the grant was last updated.
- `last_updated_by` (String) User ID who last updated the grant.
- `status` (String) The grant status.

<a id="nestedblock--entitlements"></a>
### Nested Schema for `entitlements`

#### Required

- `id` (String) The entitlement ID.

#### Optional

- `values` (Block List) List of entitlement value IDs. (see [below for nested schema](#nestedblock--entitlements--values))

<a id="nestedblock--entitlements--values"></a>
### Nested Schema for `entitlements.values`

#### Required

- `id` (String) The entitlement value ID.

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import an Okta Grant using its ID. For example:

```terraform
import {
  to = okta_grant.example
  id = "gra123abc"
}
```

Otherwise, import an Okta Grant with the `terraform import` command:

```shell
terraform import okta_grant.example gra123abc
```
